<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- 環境建置 -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link href="../../font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
  <link href="../../Content/bootstrap.min.css" rel="stylesheet" />
  <link href="../../css/linbananaBlog.css" rel="stylesheet" />
  <!-- 環境建置 -->
  <!-- 加載Google Google Code Prettify -->
  <script src="../../Scripts/run_prettify.js"></script>
  <!-- 加載Google Google Code Prettify -->

  <title>利用批次檔製作網路診斷工具！ - linbanana`Blog</title>
</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
    <div class="container">
      <a herf="" class="site-logo"><img src="../../Image/菁英巴那那.png"></a>
      <a class="site-title" href="#">巴那那`Blog</a>                

      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="../index.html">首頁
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../about.html">關於我</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../404.html">404</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">社群媒體</a>
            <div class="dropdown-menu">              
              <a class="dropdown-item fa fa-facebook-square fa-1g text-primary" href="https://ubin.io/linbanana0803fb">　Facebook</a>
              <a class="dropdown-item fa fa-youtube-play fa-1g text-danger" href="https://ubin.io/linbananayoutube">　Youtube</a>
              <a class="dropdown-item fa fa-twitch fa-1g text-purple" href="https://ubin.io/linbananaTwitch">　Twitch</a>
              <div role="separator" class="dropdown-divider"></div>
              <!-- Go to www.addthis.com/dashboard to customize your tools --> <div class="dropdown-item addthis_tipjar_inline"></div>
            </div>
          </li>         
        </ul>
        <!-- Search Widget --> 
        <div class="searchdropdown">
          <a href="../search.html"><button onclick="myFunction()" class="searchbtn btn-primary"><img src="../../svg/search.svg"></button></a>
          <div id="myDropdown" class="dropdown-content">
            <input type="text" placeholder="Search.." id="key-in" oninput="searchFunction()">
            <!-- <a href="#about">About</a> -->
          </div>
        </div>
      </div>       
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">

    <div class="row">

      <!-- Sidebar Widgets Column -->
      <div class="col-md-4">

        <!-- 大頭照 -->
        <div class="card my-4">
          <div><img class="card-img-myphoto" src="../../Image/banana/20190105 korea.jpg" alt="linbanana"></div>
          <div class="sidebar-card-body">
            <div><h1 class="card-name">linbanana`Blog</h1></div>
            <div class="linbanana-wrapper">
              <button class="btn btn-follow" onclick="Followfunction()">Follow</button><ul id="follow" style="display: none;">  
                <li><a href="mailto:tommy12345689@yahoo.com.tw"><i class="fa fa-envelope" aria-hidden="true"></i> Email</a></li>
                <li><a href="https://github.com/linbanana"><i class="fa fa-github" aria-hidden="true"></i> Github</a></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Facebook Widget -->
        <div class="fb-page my-4" data-href="https://www.facebook.com/linbanana0803/" data-tabs="" data-width="" data-height="" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/linbanana0803/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/linbanana0803/">巴那那</a></blockquote></div>

        <!-- Categories Widget -->
        <div class="card my-4">
          <h5 class="card-header">Categories</h5>
          <div class="sidebar-card-body">
            <div class="row">
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  <li>
                    <a href="#">Web Design</a>
                  </li>
                  <li>
                    <a href="#">HTML</a>
                  </li>
                  <li>
                    <a href="#">C#</a>
                  </li>
                </ul>
              </div>
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  <li>
                    <a href="#">JavaScript</a>
                  </li>
                  <li>
                    <a href="#">CSS</a>
                  </li>
                  <li>
                    <a href="#">Java</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Blog Entries Column -->
      <div class="col-md-8">        

        <!-- Blog Post -->
        <div class="card mb-4 my-4">         
          <div class="card-body">
            <h2 class="card-title">利用批次檔製作網路診斷工具！</h2><br/>
            <h3 class="card-text">Github：<a href="https://github.com/linbanana/Network-diagnostics/blob/master/%E7%B6%B2%E8%B7%AF%E8%A8%BA%E6%96%B7.bat">點我</a><br/><br/></h3>
            <h3 class="card-text">code如下<br/><br/></h3>
            <h3 class="card-text"><pre><code class="prettyprint">@echo off
:run
title=巴那那網路診斷程式
echo 　　　－－－－－－－－－－－－－－
echo      ｜　　巴那那網路診斷程式　　｜
echo 　　　－－－－－－－－－－－－－－
echo 歡迎使用巴那那網路診斷程式！
echo %date% %time%
echo.
echo.
echo.



set logname="網路診斷"
set GoogleDNS="8.8.8.8"


:address
echo ------------------------------------------------------------------------------
echo.
set /p address=是否要輸入診斷的目標位址：1.yes 2.no(使用預設位址：Google Public DNS IPv4：8.8.8.8)　　
echo.
if "%address%"=="1" (Goto ipinput) else (if "%address%"=="2" (Goto log) else (echo 輸入錯誤!請輸入"1"or"2"... &Goto address))
pause


rem log儲存位置設定

:log
echo ------------------------------------------------------------------------------
echo.
set /p log=是否要儲存log檔?(保留掉封包證據~以方便給網路業者查修)1.yes 2.no　
echo.　
if "%log%"=="1" (Goto logpath) else (if "%log%"=="2" (if "%address%"=="1" (Goto how2) else (Goto how)) else (echo 輸入錯誤!請輸入"1"or"2"... &Goto log))
pause



:logpath
echo ------------------------------------------------------------------------------
echo.
set /p logpath=是否要設定儲存的路徑位置?1.yes 2.no(使用預設位置：桌面)　　
echo.
if "%logpath%"=="1" (set /p setpath=請輸入您要儲存的路徑位置：) else (if "%logpath%"=="2" (set setpath="C:\Users\%UserName%\Desktop") else (echo 輸入錯誤!請輸入"1"or"2"... &Goto logpath))
if "%address%"=="1" (Goto how2) else (Goto how)
pause



rem 如何診斷網路?

:how
echo ------------------------------------------------------------------------------
echo.
set /p how=請輸入您要使用的網路診斷方式：1.ping　2.tracert　　
echo.
if "%how%"=="1" (Goto ping) else (if "%how%"=="2" (Goto tracert) else (echo 輸入錯誤!請輸入"1"or"2"... &Goto how))
pause



rem 自訂診斷網路

:ipinput
echo ------------------------------------------------------------------------------
echo.
set /p where=請輸入您要測試的ip位址：%where%(例如:www.google.com、8.8.4.4)　　
if "%where%"=="%where%" Goto log



:how2
echo ------------------------------------------------------------------------------
echo.
set /p how=請輸入您要使用的網路測試方式：1.ping　2.tracert　　
if "%how%"=="1" (Goto ping2) else (if "%how%"=="2" (Goto tracert2) else (echo 輸入錯誤!請輸入"1"or"2"... &Goto how2))
pause




:ping
cls
echo      －－－－－－－－－－－－－－
echo     ｜　　巴那那網路診斷程式　　｜
echo      －－－－－－－－－－－－－－
echo 歡迎使用巴那那網路測試程式！
echo %date% %time%
echo.
echo 您選擇的方式是ping，測試位置:%GoogleDNS%(Google DNS)。
echo.
echo 系統正在運行中...暫停請按"&lt;Control-C&gt;"
type nul>%setpath%\%logname%.log
echo %date%　　%time%>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
echo      　｜　　巴那那網路診斷程式　　 ｜>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
if "%log%"=="1" (ping %GoogleDNS% -t >>%setpath%\%logname%.log&%setpath%\%logname%.log) else (ping %GoogleDNS% -t)
Goto End



:tracert
cls
echo 　　　－－－－－－－－－－－－－－
echo      ｜　　巴那那網路診斷程式　　｜
echo 　　　－－－－－－－－－－－－－－
echo 歡迎使用巴那那網路測試程式！
echo %date% %time%
echo.
echo 您選擇的方式是tracert，測試位置:%GoogleDNS%(Google DNS)。
echo.
echo 系統正在運行中請稍後...
type nul>%setpath%\%logname%.log
echo %date% %time%>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
echo      　｜　　巴那那網路診斷程式　　 ｜>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
if "%log%"=="1" (tracert %GoogleDNS% >>%setpath%\%logname%.log&%setpath%\%logname%.log) else (tracert %GoogleDNS%)
pause
Goto End



:ping2
cls
echo      －－－－－－－－－－－－－－
echo      ｜　　巴那那網路診斷程式　　｜
echo      －－－－－－－－－－－－－－
echo 歡迎使用巴那那網路測試程式！
echo %date% %time%
echo.
echo 您選擇的方式是ping，測試位置:%where%。
echo.
echo 系統正在運行中...暫停請按"&lt;Control-C&gt;"
type nul>%setpath%\%logname%.log
echo %date% %time%>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
echo      　｜　　巴那那網路診斷程式　　 ｜>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
if "%log%"=="1" (ping %where% -t >>%setpath%\%logname%.log&%setpath%\%logname%.log) else (ping %where% -t)
pause
Goto End


:tracert2
cls
echo 　　　－－－－－－－－－－－－－－
echo      ｜　　巴那那網路診斷程式　　｜
echo 　　　－－－－－－－－－－－－－－
echo 歡迎使用巴那那網路測試程式！
echo %date% %time%
echo.
echo 您選擇的方式是tracert，測試位置:%where%。
echo.
echo 系統正在運行中請稍後...
type nul>%setpath%\%logname%.log
echo %date% %time%>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
echo      　｜　　巴那那網路診斷程式　　 ｜>>%setpath%\%logname%.log
echo 　　　－－－－－－－－－－－－－－>>%setpath%\%logname%.log
if "%log%"=="1" (tracert %where% >>%setpath%\%logname%.log&%setpath%\%logname%.log) else (tracert %where%)
pause
Goto End


rem 程式是否繼續執行

:End
echo ------------------------------------------------------------------------------
echo.
set /p End=是否結束程式?：1.yes 2.no　　
if "%End%"=="1" (exit) else (if "%End%"=="2" (cls&Goto run) else (echo 輸入錯誤!請輸入"1"or"2"... &Goto End))
pause</code></pre></h3>          
<br/><br/>
</div>
<div class="card-footer text-muted fa fa-calendar">
  2019/09/03 by
  <a href="#">巴那那</a>
  <div class="fb-share-button" data-href="https://linbanana.github.io/linbananaBlog/article/Github%20pages.html" data-layout="button" data-size="small"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">分享</a></div>
</div>

<!-- Disqus -->
<div id="disqus_thread"></div>

<script>

            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
              var d = document, s = d.createElement('script');
              s.src = 'https://linbanana.disqus.com/embed.js';
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
            })();

          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        </div>        

     <!-- Pagination -->
     <ul class="pagination justify-content-center mb-4">
      <li class="page-item">
        <a class="page-link" href="../article/Random.html">&laquo;</a>
      </li>          
      <li class="page-item">
        <a class="page-link" href="../article/Github pages.html">1</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="../article/HTML cut.html">2</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="../article/Java99.html">3</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="../article/Fibonacci.html">4</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="../article/Random.html">5</a>
      </li>
      <li class="page-item disabled">
        <a class="page-link" href="../article/Network-diagnostics_bat.html">6</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="../article/Minimem.html">7</a>
      </li>
      <li class="page-item ">
        <a class="page-link" href="../article/Minimem.html">&raquo;</a>
      </li>
    </ul>

      </div>
    </div>
    <!-- /.row -->

  </div>
  <!-- /.container -->

  <!-- Footer -->
  <footer class="py-5 bg-dark">
    <div class="footer">
      <p class="m-0 text-center text-white">&copy; 2019 linbanana`Blog<br/>Proudly hosted by<a href="https://pages.github.com"> GitHub Pages</a></p>
    </div>
  </footer>

  <!-- back-to-top -->
  <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top fa fa-angle-up" role="button" title="Click to return on the top page" data-toggle="tooltip" data-placement="left"><span class="glyphicon glyphicon-chevron-up"></span></a>

  <!-- Facebook -->
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v4.0&appId=436013107138958&autoLogAppEvents=1"></script>

  <!-- 環境建置 -->
  <script src="../../Scripts/jquery-3.4.1.slim.min.js"></script>
  <script src="../../Scripts/popper.min.js"></script>
  <script src="../../Scripts/bootstrap.min.js"></script>
  <script src="../../Scripts/linbananaBlog.js"></script>
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5d49835d5bd6ff90"></script>
  <script id="dsq-count-scr" src="//linbanana.disqus.com/count.js" async></script>
  <!-- 環境建置 -->
</body>
</html
